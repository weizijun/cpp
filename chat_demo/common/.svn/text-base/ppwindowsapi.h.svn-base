#ifndef __PP_WINDOWS_API_H__
#define __PP_WINDOWS_API_H__

#include "ppsystemapi.h"

#if (defined(WIN32) || defined(WIN64))

class CPPWindowsAPI : public PPCool::IPPSystemAPI
{
public:
	CPPWindowsAPI();
	~CPPWindowsAPI();

public:
	void Sleep(unsigned int milliseconds);

	void InitLock(PPCool::LockID & id);

	void DestroyLock(PPCool::LockID & id);

	void Lock(PPCool::LockID & id);

	void Unlock(PPCool::LockID & id);

	void InitCondition(PPCool::PPCondition & hCondition);

	void DestroyCondition(PPCool::PPCondition & hCondition);

	int WaitCondition(PPCool::PPCondition & hCondition, PPCool::LockID & hLock, unsigned int TimeOut);

	void NotifyCondition(PPCool::PPCondition & hCondition);

	void NotifyAllCondition(PPCool::PPCondition & hCondition);

	PPCool::PPHANDLE CreateThread(PPCool::PFThreadProc pfThrdProc, void *pArg, BOOL bSuspend);

	void JoinThread(PPCool::PPHANDLE hThread, int timeout);

	void TerminateThread(PPCool::PPHANDLE hThread, unsigned long ExitCode);

	void ResumeThread(PPCool::PPHANDLE hThread);

	void SuspendThread(PPCool::PPHANDLE hThread);

	PPCool::PPCoroContext CreateCoroutine(unsigned int StackSize, PPCool::PFCoroutineProc pfCoroProc, void * pParam);

	void TerminateCoroutine(PPCool::PPCoroContext hCoroContext);

	void SwitchCoroutine(PPCool::PPCoroContext hOldCoroContext, PPCool::PPCoroContext hNewCoroContext);
};

#endif

#endif
